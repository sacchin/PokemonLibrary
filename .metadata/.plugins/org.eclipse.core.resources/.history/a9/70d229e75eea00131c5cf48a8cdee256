package com.gmail.sacchin.pockemonbattletools.entity.pgl;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.TreeMap;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

import com.gmail.sacchin.pockemonbattletools.entity.Ability;
import com.gmail.sacchin.pockemonbattletools.entity.Item;
import com.gmail.sacchin.pockemonbattletools.entity.JSONParser;
import com.gmail.sacchin.pockemonbattletools.entity.PockemonCharacteristic;
import com.gmail.sacchin.pockemonbattletools.entity.PockemonSkill;

public class RankingPokemonTrend {
//	{"wazaInfo":[{"ranking":1,"typeId":9,"usageRate":63.333333333333336,"name":"","sequenceNumber":1},
//	"seikakuInfo":[{"ranking":1,"usageRate":66.66666666666667,"name":"","sequenceNumber":1},
//	"tokuseiInfo":[{"ranking":1,"usageRate":93.33333333333333,"name":"","sequenceNumber":1},
//	"itemInfo":[{"ranking":1,"usageRate":26.666666666666668,"name":"","sequenceNumber":1},
	
	private ArrayList<PockemonSkill> skillList = null;
	private ArrayList<Ability> abilityList = null;
	private ArrayList<PockemonCharacteristic> characteristicList = null;
	private ArrayList<Item> itemList = null;
	
	
	public static RankingPokemonTrend createRankingPokemonTrend(JSONObject rankingPokemonTrend){
		try {
			JSONArray wazaInfo = rankingPokemonTrend.getJSONArray("wazaInfo");
			JSONArray seikakuInfo = rankingPokemonTrend.getJSONArray("seikakuInfo");
			JSONArray tokuseiInfo = rankingPokemonTrend.getJSONArray("tokuseiInfo");
			JSONArray itemInfo = rankingPokemonTrend.getJSONArray("itemInfo");
			return new RankingPokemonTrend (wazaInfo, seikakuInfo, tokuseiInfo, itemInfo);
		} catch (JSONException e) {
			e.printStackTrace();
		}
		return null;
	}
	
	public RankingPokemonTrend(JSONArray wazaInfo, JSONArray seikakuInfo, JSONArray tokuseiInfo, JSONArray itemInfo){
		Log.v("createPockemonSkill", wazaInfo.toString());

		skillList = JSONParser.createSkillList(wazaInfo);
		abilityList = JSONParser.createAbilityList(tokuseiInfo);
		characteristicList = JSONParser.createCharacteristicList(seikakuInfo);
		itemList = JSONParser.createItemList(itemInfo);
	}

	public ArrayList<PockemonSkill> getSkillList() {
		return skillList;
	}

	public ArrayList<Ability> getAbilityList() {
		return abilityList;
	}

	public ArrayList<PockemonCharacteristic> getCharacteristicList() {
		return characteristicList;
	}

	public ArrayList<Item> getItemList() {
		return itemList;
	}
	
	public TreeMap<String, String[]> createSkillMap(){
		TreeMap<String, String[]> result = new TreeMap<String, String[]>();
		for(PockemonSkill pockemonSkill : skillList){
			String[] a = new String[2];
			a[0] = pockemonSkill.getJname();
			a[1] = String.valueOf((int)pockemonSkill.getUsageRate()) + "%";
			result.put(String.valueOf(pockemonSkill.getSequenceNumber()), a);
		}
		return result;
	}
	public TreeMap<String, String[]> createAbilityMap(){
		TreeMap<String, String[]> result = new TreeMap<String, String[]>();
		for(Ability ability : abilityList){
			String[] a = new String[2];
			a[0] = ability.getName();
			a[1] = String.valueOf((int)ability.getUsageRate()) + "%";
			result.put(String.valueOf(ability.getSequenceNumber()), a);
		}
		return result;
	}
	public TreeMap<String, String[]> createCharacteristicMap(){
		TreeMap<String, String[]> result = new TreeMap<String, String[]>();
		for(PockemonCharacteristic pockemonCharacteristic : characteristicList){
			String[] a = new String[2];
			a[0] = pockemonCharacteristic.getName();
			a[1] = String.valueOf((int)pockemonCharacteristic.getUsageRate()) + "%";
			result.put(String.valueOf(pockemonCharacteristic.getSequenceNumber()), a);
		}
		return result;
	}
	public TreeMap<String, String[]> createItemMap(){
		TreeMap<String, String[]> result = new TreeMap<String, String[]>();
		for(Item item : itemList){
			String[] a = new String[2];
			a[0] = item.getName();
			a[1] = String.valueOf((int)item.getUsageRate()) + "%";
			result.put(String.valueOf(item.getSequenceNumber()), a);
		}
		return result;
	}
}
